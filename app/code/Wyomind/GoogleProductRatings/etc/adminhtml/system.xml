<?xml version="1.0"?>
<!--
 Copyright Â© 2018 Wyomind. All rights reserved.
 See LICENSE.txt for license details.
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <!-- master tab -->
        <tab id="wyomind" translate="label" sortOrder="1000000" class='wyomind-logo'>
            <label>Wyomind</label>
        </tab>
        <!-- module tab -->
        <section id="googleproductratings" translate="label" sortOrder="130" showInDefault="1" showInWebsite="1" showInStore="1">
            <class>separator-top</class>
            <label>Google Product Ratings</label>
            <tab>wyomind</tab>
            <resource>Wyomind_GoogleProductRatings::global</resource>
            <!-- License -->
            <group id="license" translate="label" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                <label>License</label>
                <field id="extension_version" translate="label" type="label" sortOrder="1" showInDefault="1"
                       showInWebsite="0" showInStore="0">
                    <label>Extension version</label>
                </field>
                <field id="activation_key" translate="label comment" type="label" sortOrder="110" showInDefault="1"
                       showInWebsite="0" showInStore="0">
                    <label>Activation key</label>
                    <frontend_model>Wyomind\Framework\Block\Adminhtml\System\Config\Form\Field\ActivationKey</frontend_model>
                </field>
                <field id="license_status" translate="label comment" type="label" sortOrder="110" showInDefault="1"
                       showInWebsite="0" showInStore="0">
                    <label>License Status</label>
                    <frontend_model>Wyomind\Framework\Block\Adminhtml\System\Config\Form\Field\LicenseStatus</frontend_model>
                </field>
            </group>
            <!-- General settings -->
            <group id="settings" translate="label" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                <label>General settings</label>
                <field id="log" translate="label" type="select" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Enable log reporting</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
            </group>
            <!-- Data feed settings -->
            <group id="data_feed_settings" translate="label" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Data feed settings</label>
                <field id="publisher_name" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Publisher name</label>
                </field>
                <field id="collection_method" translate="label comment" type="select" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Collection method</label>
                    <comment><![CDATA[<span class="notice">The method used to collect the review. The value must be one of the following:<br/>Unsolicited - The user was not responding to a specific solicitation when they submitted the review.<br/>Post_fulfillment - The user submitted the review in response to a solicitation after fulfillment of the user's order.</span>]]></comment>
                    <source_model>Wyomind\GoogleProductRatings\Model\System\Config\Source\CollectionMethod</source_model>
                </field>
                <field id="rating_range_min" translate="label" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Rating range min</label>
                    <comment><![CDATA[<span class="notice">The minimum possible number for the rating (default = 1). This should be the worst possible rating and should not be a value for no rating.</span>]]></comment>
                </field>
                <field id="rating_range_max" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Rating range max</label>
                    <comment><![CDATA[<span class="notice">The maximum possible number for the rating (default = 5). The value of the max attribute must be greater than the value of the min attribute.</span>]]></comment>
                </field>
                <field id="anonymous_reviewer" translate="label comment" type="select" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Use "Anonymous" as the name of the user who posted the review.</label>
                    <comment><![CDATA[<span class="notice">- Yes: the review's username will be Anonymous.</br>- No: the customer's name will be used as the review's username.</span>]]></comment>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
            </group>
            <!-- Product settings -->
            <group id="options" translate="label" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Product settings</label>
                <field id="use_minimal_configuration" translate="label comment" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Use minimal configuration</label>
                    <comment><![CDATA[<span class="notice">Minimal configuration doesn't require any additional settings</span>]]></comment>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <group id="products_filtering" translate="label" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Products filtering</label>
                    <field id="filter_unavailable" translate="label comment" type="select" sortOrder="5" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Filter unavailable products</label>
                        <comment><![CDATA[<span class="notice">If the option is set to Yes, unavailable products will not be exported to google</span>]]></comment>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    </field>
                    <depends>
                        <field id="use_minimal_configuration">0</field>
                    </depends>
                </group>
                <group id="product_settings" translate="label" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Attributes mapping</label>
                    <field id="product_gtin" translate="label comment" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>GTIN attribute</label>
                        <comment><![CDATA[<span class="notice">Attribute to use as the Global Trade Item Number</span>]]></comment>
                        <source_model>Wyomind\GoogleProductRatings\Model\System\Config\Source\ProductIdentifier</source_model>
                    </field>
                    <field id="product_mpn" translate="label comment" type="select" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>MPN attribute</label>
                        <comment><![CDATA[<span class="notice">Attribute to use as the Manufacturer Part Number</span>]]></comment>
                        <source_model>Wyomind\GoogleProductRatings\Model\System\Config\Source\ProductIdentifier</source_model>
                    </field>
                    <field id="product_sku" translate="label comment" type="select" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>SKU attribute</label>
                        <comment><![CDATA[<span class="notice">Attribute to use as the product SKU</span>]]></comment>
                        <source_model>Wyomind\GoogleProductRatings\Model\System\Config\Source\ProductIdentifier</source_model>
                    </field>
                    <field id="product_brand" translate="label comment" type="select" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Brand attribute</label>
                        <comment><![CDATA[<span class="notice">Attribute to use as the product's brand</span>]]></comment>
                        <source_model>Wyomind\GoogleProductRatings\Model\System\Config\Source\ProductAttribute</source_model>
                    </field>
                    <field id="product_name" translate="label comment" type="select" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Name attribute</label>
                        <comment><![CDATA[<span class="notice">Attribute to use as the product name, if this attribute is empty, then the default name is used.</span>]]></comment>
                        <source_model>Wyomind\GoogleProductRatings\Model\System\Config\Source\ProductAttribute</source_model>
                    </field>
                    <depends>
                        <field id="use_minimal_configuration">0</field>
                    </depends>
                </group>
            </group>
            <!-- Schedule -->
            <group id="schedule" translate="label" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Data Feed Update</label>
                <field id="cron" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Schedule</label>
                    <frontend_model>Wyomind\GoogleProductRatings\Block\Adminhtml\System\Config\Form\Field\Cron</frontend_model>
                </field>
            </group>
            <!-- Cron job reporting -->
            <group id="cron_job" translate="label" sortOrder="50" showInDefault="1" showInWebsite="0" showInStore="0">
                <label>Cron job reporting</label>
                <field id="enable_reporting" translate="label comment" type="select" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Enable cron job reporting</label>
                    <comment><![CDATA[Send the data feed generation report by email]]></comment>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <group id="reporting_settings" translate="label" sortOrder="30" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Email settings</label>
                    <field id="sender_email" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                        <label>Sender Email</label>
                        <validate>validate-email</validate>
                        <backend_model>Magento\Config\Model\Config\Backend\Email\Address</backend_model>
                    </field>
                    <field id="sender_name" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="0" showInStore="0">
                        <label>Sender Name</label>
                        <backend_model>Magento\Config\Model\Config\Backend\Email\Sender</backend_model>
                        <validate>validate-emailSender</validate>
                    </field>
                    <field id="emails" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="0" showInStore="0">
                        <label>Send the report to</label>
                        <comment>Emails must be separated with a comma (,).</comment>
                    </field>
                    <field id="subject" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="0" showInStore="0">
                        <label>Email subject</label>
                    </field>
                    <depends>
                        <field id="enable_reporting">1</field>
                    </depends>
                </group>
            </group>
            <!-- File storage -->
            <group id="storage" translate="label" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>File storage</label>
                <field id="file_path" translate="label comment" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>File path</label>
                    <comment><![CDATA[<span class="notice">Directory where to store the data feed (relative to Magento root directory) </span>]]></comment>
                    <validate>required-entry</validate>
                </field>
                <field id="file_name" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>File name</label>
                    <comment><![CDATA[<span class="notice">Use alphanumeric characters only</span>]]></comment>
                    <validate>required-entry validate-alphanum</validate>
                </field>
                <field id="link" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>File link</label>
                    <frontend_model>Wyomind\GoogleProductRatings\Block\Adminhtml\System\Config\Form\Field\Link</frontend_model>
                </field>
                <field id="button" translate="label" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <frontend_model>Wyomind\GoogleProductRatings\Block\Adminhtml\System\Config\Form\Field\Button</frontend_model>
                </field>
            </group>
        </section>
    </system>
</config>
